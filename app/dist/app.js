"use strict";function getCookie(a){var b=null;if(document.cookie&&""!=document.cookie)for(var c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();if(e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}var app=angular.module("apotekApp",["dx","ngRoute","route-segment","view-segment","ajoslin.promise-tracker","restangular","app.main","app.catalog","app.inventory"]).config(["$httpProvider",function(a){a.defaults.headers.post["X-CSRFToken"]=getCookie("csrftoken")}]).config(["$routeSegmentProvider","$routeProvider","RestangularProvider","$httpProvider",function(a,b,c,d){d.defaults.xsrfCookieName="csrftoken",d.defaults.xsrfHeaderName="X-CSRFToken",c.setBaseUrl("http://192.168.137.128:8000/"),c.setDefaultHeaders({"Content-Type":"application/json; charset=UTF-8"}),a.options.autoLoadTemplates=!0,a.when("/login","login").when("/logout","logout").when("/overview","main.overview").when("/inventory","main.inventory").when("/inventory/summary","main.inventory.summary").when("/inventory/procurement","main.inventory.procurement").when("/inventory/inventory","main.inventory.inventory").when("/inventory/vendor","main.inventory.vendor").when("/inventory/vendor_group","main.inventory.vendor_group").when("/catalog","main.catalog").when("/catalog/product","main.catalog.product").when("/catalog/combination","main.catalog.combination").when("/catalog/promotion","main.catalog.promotion").when("/catalog/attribute","main.catalog.attribute").when("/catalog/category","main.catalog.category").when("/catalog/price","main.catalog.price").when("/reference","main.reference").when("/reference/territory","main.reference.territory").when("/reference/branch","main.reference.branch").when("/catalog","main.catalog").when("/catalog/add","main.catalogAdd").when("/catalog/detail","main.catalogDetail").when("/register","main.register").when("/admin","main.admin").when("/admin/ticket-category","main.admin.ticket_category").when("/admin/user-management","main.admin.user_management").when("/admin/role","main.admin.role").segment("main",{templateUrl:"partial/main.html",controller:"CMain"}).within().segment("overview",{templateUrl:"partial/overview.html",controller:"COverview"}).segment("inventory",{templateUrl:"partial/VInventory.html",controller:"CInventory"}).within().segment("summary",{default:!0,templateUrl:"partial/VInventorySummary.html",controller:"CInventorySummary"}).segment("procurement",{templateUrl:"partial/VInventoryProcurement.html",controller:"CInventoryProcurement"}).segment("inventory",{templateUrl:"partial/VInventoryInventory.html",controller:"CInventoryInventory"}).segment("vendor",{templateUrl:"partial/VInventoryVendor.html",controller:"CInventoryVendor"}).segment("vendor_group",{templateUrl:"partial/VInventoryGroup.html",controller:"CInventoryGroup"}).up().segment("catalog",{templateUrl:"partial/VCatalog.html",controller:"CCatalog"}).within().segment("product",{default:!0,templateUrl:"partial/VCatalogProduct.html",controller:"CCatalogProduct"}).segment("combination",{templateUrl:"partial/VCatalogCombination.html",controller:"CCatalogCombination"}).segment("promotion",{templateUrl:"partial/VCatalogPromotion.html",controller:"CCatalogPromotion"}).segment("attribute",{templateUrl:"partial/VCatalogAttribute.html",controller:"CCatalogAttribute"}).segment("category",{templateUrl:"partial/VCatalogCategory.html",controller:"CCatalogCategory"}).segment("price",{templateUrl:"partial/VCatalogPrice.html",controller:"CCatalogPrice"}).up().segment("reference",{templateUrl:"partial/VReference.html",controller:"CReference"}).within().segment("territory",{default:!0,templateUrl:"partial/VReferenceTerritory.html",controller:"CReferenceTerritory"}).segment("branch",{templateUrl:"partial/VReferenceBranch.html",controller:"CReferenceBranch"}).up().segment("admin",{templateUrl:"partial/admin.html",controller:"AdminController"}).within().segment("ticket_category",{default:!0,templateUrl:"pages/admin/ticket_category/page.html",controller:"TicketCategoryController"}).segment("user_management",{default:!0,templateUrl:"pages/admin/user_management/page.html",controller:"UserManagementController"}).segment("role",{default:!0,templateUrl:"pages/admin/role/page.html",controller:"RoleController"}).up().up().segment("login",{templateUrl:"partial/login.html",controller:"LoginController"}).segment("logout",{templateUrl:"partial/logout.html",controller:"LogoutController"}),b.otherwise({redirectTo:"/overview"})}]);angular.module("app.main",[]).factory("dxData",["Restangular","promiseTracker",function(a,b){var c=function(c){this.config=c,this.object=angular.copy(c.default),this.headers={access_token:c.token},this.tracker=b(),this.useID=c.useID;var d=this;this.rest=a.setRestangularFields({id:"id"}).setDefaultHeaders({Authorization:"Bearer "+c.token,"Content-Type":"application/json"}).all(c.rest);a.setRestangularFields({id:"id"}).setDefaultHeaders({Authorization:"Bearer "+c.token}).all(c.rest);this.dxDataProvider=new DevExpress.data.DataSource({load:function(b){var e={limit:b.take,offset:b.skip};if(b.filter)if("string"==typeof b.filter[0]){var f=d.useID.indexOf(b.filter[0])>-1?""+b.filter[0]+"__id":""+b.filter[0],g=b.filter[2];if(d.useID.indexOf(b.filter[0])>-1)e[""+f]=g;else switch(b.filter[1]){case"contains":e[""+f+"__contains"]=g;break;case"notcontains":e[""+f+"__icontains"]=g;break;case"startswith":e[""+f+"__startswith"]=g;break;case"endswith":e[""+f+"__endswith"]=g;break;case"=":e[""+f+"__exact"]=g;break;case"<>":e[""+f+"__iexact"]=g;break;case">":e[""+f+"__gt"]=g;break;case"<":e[""+f+"__lt"]=g;break;case">=":e[""+f+"__gte"]=g;break;case"<=":e[""+f+"__lte"]=g}}else Array.isArray(b.filter[0])&&angular.forEach(b.filter,function(a,b){if(Array.isArray(a)){var c=d.useID.indexOf(a[0])>-1?""+a[0]+"__id":""+a[0],f=a[2];if(d.useID.indexOf(a[0])>-1)e[""+c]=f;else switch(a[1]){case"contains":e[""+c+"__contains"]=f;break;case"notcontains":e[""+c+"__icontains"]=f;break;case"startswith":e[""+c+"__startswith"]=f;break;case"endswith":e[""+c+"__endswith"]=f;break;case"=":e[""+c+"__exact"]=f;break;case"<>":e[""+c+"__iexact"]=f;break;case">":e[""+c+"__gt"]=f;break;case"<":e[""+c+"__lt"]=f;break;case">=":e[""+c+"__gte"]=f;break;case"<=":e[""+c+"__lte"]=f}}});b.sort&&angular.forEach(b.sort,function(a,b){e.ordering=""+(a.desc?"-":"")+a.selector});var h=d.tracker.createPromise();return a.setRestangularFields({id:"id"}).setDefaultRequestParams(e).setDefaultHeaders({Authorization:"Bearer "+c.token}).all(c.rest).customGET().then(function(a){a.results?h.resolve(a.results,{totalCount:a.count}):h.resolve(a)}),h.promise},byKey:function(b){var e=d.tracker.createPromise();return a.setRestangularFields({id:"id"}).setDefaultHeaders({Authorization:"Bearer "+c.token}).all(c.rest).get(b+"/").then(function(a){e.resolve(a)}),e.promise},insert:function(a){var b=d.tracker.createPromise();return d.rest.post(a).then(function(a){b.resolve(a)}),b.promise},update:function(b,e){var f=angular.copy(b);angular.forEach(e,function(a,b){f[""+b]=a}),delete f.image;var g=d.tracker.createPromise();return a.one(c.rest+b.id+"/").customPUT(JSON.stringify(f)).then(function(a){g.resolve(a)}),g.promise},remove:function(b){var e=d.tracker.createPromise();return a.setDefaultHeaders({Authorization:"Bearer "+c.token,"Content-Type":"application/json"},{"Content-Type":"application/json"}).all(c.rest).customDELETE(b.id+"/").then(function(a){e.resolve(a)}),e.promise},totalCount:function(b){var e=(new $.Deferred,{limit:b.take,offset:b.skip});if(b.filter)if("string"==typeof b.filter[0]){var f=d.useID.indexOf(b.filter[0])>-1?""+b.filter[0]+"__id":""+b.filter[0],g=b.filter[2];if(d.useID.indexOf(b.filter[0])>-1)e[""+f]=g;else switch(b.filter[1]){case"contains":e[""+f+"__contains"]=g;break;case"notcontains":e[""+f+"__icontains"]=g;break;case"startswith":e[""+f+"__startswith"]=g;break;case"endswith":e[""+f+"__endswith"]=g;break;case"=":e[""+f+"__exact"]=g;break;case"<>":e[""+f+"__iexact"]=g;break;case">":e[""+f+"__gt"]=g;break;case"<":e[""+f+"__lt"]=g;break;case">=":e[""+f+"__gte"]=g;break;case"<=":e[""+f+"__lte"]=g}}else Array.isArray(b.filter[0])&&angular.forEach(b.filter,function(a,b){if(Array.isArray(a)){var c=d.useID.indexOf(a[0])>-1?""+a[0]+"__id":""+a[0],f=a[2];if(d.useID.indexOf(a[0])>-1)e[""+c]=f;else switch(a[1]){case"contains":e[""+c+"__contains"]=f;break;case"notcontains":e[""+c+"__icontains"]=f;break;case"startswith":e[""+c+"__startswith"]=f;break;case"endswith":e[""+c+"__endswith"]=f;break;case"=":e[""+c+"__exact"]=f;break;case"<>":e[""+c+"__iexact"]=f;break;case">":e[""+c+"__gt"]=f;break;case"<":e[""+c+"__lt"]=f;break;case">=":e[""+c+"__gte"]=f;break;case"<=":e[""+c+"__lte"]=f}}});e.needCount=!0;var h=d.tracker.createPromise();return a.setRestangularFields({id:"id"}).setDefaultRequestParams(e).setDefaultHeaders({Authorization:"Bearer "+c.token}).all(c.rest).customGET().then(function(a){h.resolve(a.count)}),h.promise}})};return c.prototype={},c}]).controller("CMain",["$scope",function(a){a.breadcrumbs=[{url:"#",icon:"fa fa-home",name:" Home"},{route:"main.catalog",icon:"fa fa-list-ul",name:" Catalog"},{route:"main.catalog.product",icon:"fa fa-list-ul",name:" Product"}]}]).controller("COverview",["$scope",function(a){}]).controller("CReference",["$scope",function(a){console.info("CReference")}]).controller("CReferenceTerritory",["$scope",function(a){console.info("CReferenceTerritory")}]).controller("CReferenceBranch",["$scope",function(a){console.info("CReferenceBranch")}]),angular.module("app.catalog",["app.main","restangular"]).controller("CCatalog",["$scope","dxData",function(a,b){}]).controller("CCatalogProduct",["$scope","dxData",function(a,b){a.dxDataCatalog=new b({rest:"products/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:["category","creator"]}),a.dxDataProductImage=new b({rest:"productimages/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataProductCategory=new b({rest:"productcategories/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataUser=new b({rest:"users/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataCombinationImage=new b({rest:"combinationimages/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxGridOptions={dataSource:a.dxDataCatalog.dxDataProvider,allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},export:{enabled:!0,fileName:"Data Attribute Product"},columnFixing:{enabled:!0},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"form"},paging:{pageSize:20},searchPanel:{visible:!0},selection:{mode:"single"},masterDetail:{enabled:!0,template:function(c,d){var e=new b({rest:"products/"+d.key.id+"/combinations/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:["product"]});$("<div>Product : "+d.key.name+"</div>").appendTo(c),$("<div>").addClass("internal-grid").dxDataGrid({dataSource:e.dxDataProvider,editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"row"},allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},columnFixing:{enabled:!0},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"name",caption:"Combination Name"},{dataField:"product",caption:"Product",lookup:{dataSource:a.dxDataCatalog.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0},visible:!1},{dataField:"ean13",caption:"EAN"},{dataField:"upc",caption:"UPC"},{dataField:"reference",caption:"Reference",visible:!1},{dataField:"price",caption:"Price",dataType:"number"},{dataField:"wholesale",caption:"Whole Sale",dataType:"number"},{dataField:"impact_price",caption:"Impact Price",dataType:"number"},{dataField:"weight",caption:"Weight",dataType:"number"},{dataField:"impact_weight",caption:"Impact Weight",dataType:"number"},{dataField:"image",editCellTemplate:function(b,c){var d=document.createElement("div");b.get(0).appendChild(d),$(d).dxFileUploader({selectButtonText:"Select photo",labelText:"",accept:"image/*",uploadMode:"useButtons",name:"upload",multiple:!1,uploadUrl:a.dxDataCombinationImage.rest.one(c.row.key.id+"/").getRequestedUrl()}).appendTo(b)},visible:!1},{dataField:"created",dataType:"date",format:"dd/MM/yyyy",allowFiltering:!1,editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).appendTo(a)}}]}).appendTo(c)}},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"name",caption:"Product Name"},{dataField:"category",caption:"Category",lookup:{dataSource:a.dxDataProductCategory.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0}},{dataField:"ean13",caption:"EAN"},{dataField:"upc",caption:"UPC"},{dataField:"reference",caption:"Reference"},{dataField:"image",editCellTemplate:function(b,c){var d=document.createElement("div");b.get(0).appendChild(d),$(d).dxFileUploader({selectButtonText:"Select photo",labelText:"",accept:"image/*",uploadMode:"useButtons",name:"upload",multiple:!1,uploadUrl:a.dxDataProductImage.rest.one(c.row.key.id+"/").getRequestedUrl(),onValueChanged:function(a){c.value=a}}).appendTo(b)},visible:!1},{dataField:"created",dataType:"date",format:"dd/MM/yyyy",allowFiltering:!1,editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).appendTo(a)}}],filterRow:{visible:!0}}}]).controller("CCatalogCombination",["$scope","dxData",function(a,b){a.dxDataCatalog=new b({rest:"combinations/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:["product","creator"]}),a.dxDataCombinationImage=new b({rest:"combinationimages/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataProduct=new b({rest:"products/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataUser=new b({rest:"users/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataAttribute=new b({rest:"productattributes/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataAttributeItem=new b({rest:"productattributeitems/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxDataProduct=new b({rest:"products/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxGridOptions={dataSource:a.dxDataCatalog.dxDataProvider,allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},export:{enabled:!0,fileName:"Data Combination Product"},columnFixing:{enabled:!0},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"form"},paging:{pageSize:20},searchPanel:{visible:!0},selection:{mode:"single"},masterDetail:{enabled:!0,template:function(c,d){var e=new b({rest:"combinations/"+d.key.id+"/attributes/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:["attribute"]});$("<div>Combination : "+d.key.name+"</div>").appendTo(c),$("<div>").addClass("internal-grid").dxDataGrid({dataSource:e.dxDataProvider,editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"row"},allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},columnFixing:{enabled:!0},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"combination",caption:"Combination",lookup:{dataSource:a.dxDataCatalog.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0},visible:!1},{dataField:"attribute",caption:"Attirbute",lookup:{dataSource:a.dxDataAttribute.dxDataProvider.store(),valueExpr:"id",displayExpr:"publicName",allowClearing:!0}},{dataField:"attributeItem",caption:"Item",lookup:{dataSource:a.dxDataAttributeItem.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0}}]}).appendTo(c)}},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"name",caption:"Combination Name"},{dataField:"product",caption:"Product",lookup:{dataSource:a.dxDataProduct.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0}},{dataField:"ean13",caption:"EAN"},{dataField:"upc",caption:"UPC"},{dataField:"reference",caption:"Reference"},{dataField:"price",caption:"Price",dataType:"number"},{dataField:"wholesale",caption:"Whole Sale",dataType:"number"},{dataField:"impact_price",caption:"Impact Price",dataType:"number"},{dataField:"weight",caption:"Weight",dataType:"number"},{dataField:"impact_weight",caption:"Impact Weight",dataType:"number"},{dataField:"image",editCellTemplate:function(b,c){var d=document.createElement("div");b.get(0).appendChild(d),$(d).dxFileUploader({selectButtonText:"Select photo",labelText:"",accept:"image/*",uploadMode:"useButtons",name:"upload",multiple:!1,uploadUrl:a.dxDataCombinationImage.rest.one(c.row.key.id+"/").getRequestedUrl()}).appendTo(b)},visible:!1},{dataField:"created",dataType:"date",format:"dd/MM/yyyy",allowFiltering:!1,editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).appendTo(a)}}],filterRow:{visible:!0}}}]).controller("CCatalogPromotion",["$scope",function(a){console.info("CCatalogPromotion")}]).controller("CCatalogAttribute",["$scope","dxData",function(a,b){a.dxDataAttribute=new b({rest:"productattributes/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:["product","creator"]}),a.dxGridOptions={dataSource:a.dxDataAttribute.dxDataProvider,allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},export:{enabled:!0,fileName:"Data Attribute Product"},columnFixing:{enabled:!0},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"form"},paging:{pageSize:20},searchPanel:{visible:!0},selection:{mode:"single"},masterDetail:{enabled:!0,template:function(c,d){var e=new b({rest:"productattributes/"+d.key.id+"/items/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:["attribute"]});$("<div>Attribute : "+d.key.publicName+"</div>").appendTo(c),$("<div>").addClass("internal-grid").dxDataGrid({dataSource:e.dxDataProvider,editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"row"},allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},columnFixing:{enabled:!0},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"attribute",caption:"Attribute",lookup:{dataSource:a.dxDataAttribute.dxDataProvider.store(),valueExpr:"id",displayExpr:"publicName",allowClearing:!0}},{dataField:"name",caption:"Name"},{dataField:"position",caption:"Position"}]}).appendTo(c)}},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"name",caption:"Attribute Name"},{dataField:"publicName",caption:"Public Name"},{dataField:"type",caption:"Type"}],filterRow:{visible:!0}}}]).controller("CCatalogCategory",["$scope","dxData",function(a,b){a.dxDataProductCategory=new b({rest:"productcategories/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj"}),a.dxGridOptions={dataSource:a.dxDataProductCategory.dxDataProvider,editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"form"},paging:{pageSize:20},searchPanel:{visible:!0},selection:{mode:"single"},columns:[{dataField:"id",caption:"ID",width:"50"},{dataField:"name",caption:"Category Name"}],filterRow:{visible:!0}}}]).controller("CCatalogPrice",["$scope",function(a){console.info("CCatalogPrice")}]),angular.module("app.inventory",["app.main"]).controller("CInventory",["$scope",function(a){console.info("CInventory")}]).controller("CInventorySummary",["$scope",function(a){console.info("CInventorySummary")}]).controller("CInventoryProcurement",["$scope",function(a){console.info("CInventoryProcurement")}]).controller("CInventoryInventory",["$scope",function(a){console.info("CInventoryInventory")}]).controller("CInventoryGroup",["$scope","dxData",function(a,b){a.dxDataCategory=new b({rest:"vendor/categories/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:[]}),a.dxGridOptions={dataSource:a.dxDataCategory.dxDataProvider,allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},export:{enabled:!0,fileName:"Data Vendor Group"},columnFixing:{enabled:!0},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"form"},paging:{pageSize:20},searchPanel:{visible:!0},selection:{mode:"single"},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"name",caption:"Group"},{dataField:"created",dataType:"date",format:"dd/MM/yyyy",allowFiltering:!1,editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).appendTo(a)}}],filterRow:{visible:!0}}}]).controller("CInventoryVendor",["$scope","dxData",function(a,b){a.dxDataHeader=new b({rest:"vendor/headers/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:[]}),a.dxDataCategory=new b({rest:"vendor/categories/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:[]}),a.dxGridOptions={dataSource:a.dxDataHeader.dxDataProvider,allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},scrolling:{preloadEnabled:!0},onRowExpanding:function(a){a.component.repaint()},export:{enabled:!0,fileName:"Data Vendor"},columnFixing:{enabled:!0},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"form"},paging:{pageSize:20},searchPanel:{visible:!0},selection:{mode:"single"},masterDetail:{enabled:!0,template:function(c,d){var e=new b({rest:"vendor/headers/"+d.key.id+"/addresses/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:[]});$("<div>Header : "+d.key.name+"</div>").appendTo(c),$("<div>").addClass("internal-grid-container").dxDataGrid({dataSource:e.dxDataProvider,editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"row"},allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},columnFixing:{enabled:!0},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"header",caption:"Vendor Header",lookup:{dataSource:a.dxDataHeader.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0}},{dataField:"telephone",caption:"Telephone",editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).dxTextBox({mask:"(000) 000 0000",onValueChanged:function(a){b.setValue(a.value)},value:b.value,valueChangeEvent:"keyup"}).appendTo(a)}},{dataField:"fax",caption:"Fax",editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).dxTextBox({mask:"(000) 000 0000",onValueChanged:function(a){b.setValue(a.value)},value:b.value,valueChangeEvent:"keyup"}).appendTo(a)}},{dataField:"email",caption:"Email"},{dataField:"cpName",caption:"Contact Person"},{dataField:"cpTelephone",caption:"CP Telp."},{dataField:"cpEmail",caption:"CP Email"},{dataField:"address",caption:"Address"},{dataField:"cityName",caption:"City"}]}).appendTo(c);var f=new b({rest:"vendor/headers/"+d.key.id+"/vendors/",token:"4OrAp2dhkJWI0QqEclugsSs5utlRTj",useID:[]});$("<div>").addClass("internal-grid-container").dxDataGrid({dataSource:f.dxDataProvider,editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,mode:"row"},allowColumnReordering:!0,allowColumnResizing:!0,columnChooser:{enabled:!0},columnFixing:{enabled:!0},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"header",caption:"Vendor Header",lookup:{dataSource:a.dxDataHeader.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0}},{dataField:"group",caption:"Group",lookup:{dataSource:a.dxDataCategory.dxDataProvider.store(),valueExpr:"id",displayExpr:"name",allowClearing:!0}},{dataField:"name",caption:"Vendor"},{dataField:"freezFlag",caption:"Freez",dataType:"boolean"}]}).appendTo(c)}},columns:[{dataField:"id",caption:"ID",width:"50",allowEditing:!1},{dataField:"name",caption:"Header Name"},{dataField:"npwp",caption:"NPWP",editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).dxTextBox({mask:"00.000.000.0-000.000",onValueChanged:function(a){b.setValue(a.value)},value:b.value,valueChangeEvent:"keyup"}).appendTo(a)}},{dataField:"validFlag",caption:"Valid",dataType:"boolean"},{dataField:"created",dataType:"date",format:"dd/MM/yyyy",allowFiltering:!1,editCellTemplate:function(a,b){var c=document.createElement("div");a.get(0).appendChild(c),$(c).appendTo(a)}}],filterRow:{visible:!0}}}]);